### (p. 100, SM) 키-값 저장소의 강한 일관성이 보장되려면, N=3 / W=R=2가 아니라 W=R=3이어야 하지 않나?

-   W=R=3이어야 강한 일관성이 보장됨
-   W=R=2인 경우, 한 개 이상의 노드가 장애가 발생하면 읽기 연산은 성공하지만 쓰기 연산은 실패할 수 있음
-   W=R=2를 기본값으로 하는 이유는 응답 속도를 빠르게 하기 위함
-   W=R=3인 경우, 읽기 연산은 모든 노드로부터 응답을 받아야 함, 이로 인해 응답 속도가 느려질 수 있음
-   강한 일관성이 필요한 경우, W=R=3을 사용해야만 함, 응답 속도가 중요한 경우, W=R=2를 사용할 수 있음

<br/>

### (p. 100, SM) 일관성 모델과 관련하여, AWS S3은 최종 일관성에서 강한 일관성을 제공하도록 변경되었는데, Dynamodb 는 여전히 기본값이 최종 일관성인 이유?

-   RDB(관계형 데이터베이스)는 동시성이라고 해서 같은 시간에 조회하는 데이터는 항상 동일한 데이터임을 보증하는걸 기본으로 한다.
-   그런데 NoSQL이 쓰이게 되면서 동시성을 더 이상 보장하기가 힘들어졌다.
-   NoSQL은 분산 노드를 이용하여 그냥 무조건 빠른 데이터 처리가 주목적이기 때문이다.
-   그래서 데이터 변경이 발생했을 때, 시간이 지남에 따라 여러 노드에 전파되면서 당장은 아니지만 최종적으로 일관성이 유지되는 것을 최종 일관성(Eventual Consistency)이라고 한다.
-   결국은 동시성을 제공하지 않고 결과적으로 일관성을 갖는 다는 의미이다.

**AWS S3**

-   S3는 높은 확장성과 내구성을 제공하는 객체 스토리지 서비스
-   이전에는 최종적 일관성(eventual consistency) 모델을 사용했으나, 2020년부터 모든 S3 요청에 대해 강한 일관성(strong consistency)를 제공하도록 변경
-   이 변경은 고객의 데이터를 실시간으로 일관성있게 보여주고, S3 버킷에서 읽고 쓸 때 오류를 최소화하는 데 도움

**DynamoDB**

-   DynamoDB는 높은 성능과 무한 확장성을 제공하는 NoSQL 데이터베이스 서비스
-   DynamoDB는 최종적 일관성 모델을 사용합니다. 이는 읽기 작업이 매우 빠르고, 극단적인 확장성을 제공

_이러한 차이는 두 서비스의 사용 사례와 트레이드오프를 반영_

-   S3는 보통 덜 빈번하지만 큰 크기의 객체를 저장하는데 사용되며, 업로드 후 즉시 해당 객체를 읽을 수 있어야하는 요구사항이 있을 수 있음
-   반면에 DynamoDB는 매우 빠른 읽기와 쓰기 성능이 필요한 애플리케이션에 사용되며, 최신 쓰기가 즉시 읽혀야 하는 것은 그리 중요하지 않을 수 있음

<br/>

### (p. 114, SM) 버저닝 및 벡터 시계를 사용한 충돌 해소는 높은 일관성을 위한 해결 방법인데, 왜 쓰기 연산에 대한 높은 가용성을 보장한다 하는가?

**들어가기 앞서**

-   CAP 이론은 일관성(Consistency), 가용성(Availability), 그리고 분할 허용성(Partition tolerance) 사이에서 선택해야 한다는 원칙
-   이 세 가지 속성 중에서 최대 두 가지만 동시에 보장할 수 있음
-   언제나 트레이드오프를 고려해야 함

<br/>

**문제 상황**

-   분산 시스템에서 여러 클라이언트가 동시에 같은 데이터를 쓸 수 있으므로 충돌이 발생할 수 있음
-   기술적인 해결 방법으로는, 샤딩과 복제 기술을 사용하여 높은 가용성을 보장하는 것이 있음
-   하지만 쓰기 연산에 대한 높은 가용성을 보장하면서 동시에 데이터의 일관성을 유지할 수 있는 방법으로, 버저닝 및 벡터 시계를 사용하면 여러 노드에서 동시에 쓰기 작업을 수행하더라도 데이터가 일관되게 유지될 수 있게 만드는 것또한 옳은 설명
-   그러나 복잡성과 성능 저하의 단점이 있다는 점을 고려해야 함
